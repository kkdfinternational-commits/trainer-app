<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>All Trainers</title>
<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #f2f2f2;
}

.container {
  padding: 15px;
}

h2 {
  text-align: center;
}

.table-wrap {
  overflow-x: auto;
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
}

table {
  border-collapse: collapse;
  width: 100%;
  min-width: 900px;
}

th, td {
  padding: 8px;
  border: 1px solid #ddd;
  font-size: 13px;
  text-align: left;
}

th {
  background: #0d6efd;
  color: white;
  position: sticky;
  top: 0;
}

a.btn {
  color: #0d6efd;
  font-weight: bold;
  text-decoration: none;
}

.status-approved { color: green; font-weight: bold; }
.status-pending { color: orange; font-weight: bold; }
</style>
</head>
<body>

<div class="container">
  <h2>All Trainers</h2>
  <input type="text" id="searchInput"
  placeholder="Search by name, mobile, block, status..."
  style="width:100%; padding:10px; margin-bottom:5px;">

<button onclick="resetSearch()"
  style="padding:8px 12px; margin-bottom:10px;">
  Reset
</button>
    
  <div class="table-wrap">
  <table id="trainersTable">
    <tr>
      {% for h in headers %}
        <th>{{ h }}</th>
      {% endfor %}
      <th>Action</th>
    </tr>

    {% for i,row in enumerate(data) %}
    <tr>
      {% for c in row %}
        <td>{{ c }}</td>
      {% endfor %}
      <td>
        {% if row[-1] != "Approved" %}
          <a class="btn" href="/approve/{{ i }}">Approve</a>
        {% else %}
          <span class="status-approved">Approved</span>
        {% endif %}
      </td>
    </tr>
    {% endfor %}
  </table>
</div>
</div>
<script>
const searchInput = document.getElementById("searchInput");

searchInput.addEventListener("keyup", filterTable);

function filterTable() {
  const filter = searchInput.value.toLowerCase();
  const rows = document.querySelectorAll("#trainersTable tr");

  rows.forEach((row, index) => {
    if (index === 0) return; // header
    const text = row.textContent.toLowerCase();
    row.style.display = text.includes(filter) ? "" : "none";
  });
}

function resetSearch() {
  searchInput.value = "";
  filterTable();
}
</script>


</body>
</html>
